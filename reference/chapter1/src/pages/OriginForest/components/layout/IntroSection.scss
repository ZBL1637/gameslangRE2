// 第一章入场介绍 - 像素艺术风格
.intro-section {
  position: relative;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
  cursor: pointer;
  overflow: hidden;

  // 背景
  .intro-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    z-index: 0;
    
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, 
        rgba(10, 31, 10, 0.3) 0%, 
        rgba(10, 31, 10, 0.1) 40%,
        rgba(10, 31, 10, 0.6) 80%,
        rgba(10, 31, 10, 0.95) 100%
      );
    }
  }

  // 章节标题
  .chapter-title {
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 10;
    animation: titleFadeIn 1.5s ease-out;

    .chapter-index {
      display: block;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.875rem;
      color: #64ff64;
      letter-spacing: 4px;
      margin-bottom: 1rem;
      text-shadow: 0 0 20px rgba(100, 255, 100, 0.8);
    }

    .main-title {
      font-family: 'Press Start 2P', monospace;
      font-size: 2.5rem;
      color: #ffffff;
      margin: 0 0 0.5rem 0;
      text-shadow: 
        0 0 30px rgba(100, 255, 100, 0.6),
        4px 4px 0 #1a3a1a;
      letter-spacing: 2px;
    }

    .sub-title {
      display: block;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.75rem;
      color: rgba(100, 255, 100, 0.8);
      letter-spacing: 2px;
    }
  }

  @keyframes titleFadeIn {
    0% {
      opacity: 0;
      transform: translateX(-50%) translateY(-20px);
    }
    100% {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  // NPC容器
  .npc-container {
    position: absolute;
    bottom: 200px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 5;
    animation: npcAppear 0.8s ease-out;

    .npc-image {
      height: 400px;
      width: auto;
      image-rendering: pixelated;
      filter: drop-shadow(0 0 30px rgba(100, 255, 100, 0.4));
      animation: npcFloat 3s ease-in-out infinite;
    }

    .npc-glow {
      position: absolute;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 40px;
      background: radial-gradient(ellipse, rgba(100, 255, 100, 0.4) 0%, transparent 70%);
      animation: glowPulse 2s ease-in-out infinite;
    }
  }

  @keyframes npcAppear {
    0% {
      opacity: 0;
      transform: translateX(-50%) translateY(50px);
    }
    100% {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  @keyframes npcFloat {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-10px); }
  }

  @keyframes glowPulse {
    0%, 100% { opacity: 0.6; transform: translateX(-50%) scale(1); }
    50% { opacity: 1; transform: translateX(-50%) scale(1.1); }
  }

  // 对话框
  .dialogue-box {
    position: relative;
    width: 90%;
    max-width: 900px;
    margin-bottom: 3rem;
    z-index: 20;
    background: linear-gradient(180deg, rgba(26, 58, 26, 0.95) 0%, rgba(13, 45, 13, 0.98) 100%);
    border: 4px solid #64ff64;
    border-radius: 0;
    padding: 1.5rem 2rem;
    box-shadow: 
      0 0 30px rgba(100, 255, 100, 0.3),
      inset 0 0 20px rgba(100, 255, 100, 0.1);
    
    // 像素边框效果
    &::before {
      content: '';
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      border: 2px solid rgba(100, 255, 100, 0.3);
      pointer-events: none;
    }

    .speaker-name {
      position: absolute;
      top: -16px;
      left: 20px;
      background: linear-gradient(90deg, #2d5a2d, #1a3a1a);
      border: 2px solid #64ff64;
      padding: 0.25rem 1rem;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.75rem;
      color: #64ff64;
      text-shadow: 0 0 10px rgba(100, 255, 100, 0.5);
    }

    .dialogue-content {
      min-height: 80px;
      
      .dialogue-text {
        font-family: 'Noto Sans SC', sans-serif;
        font-size: 1.125rem;
        line-height: 1.8;
        color: #e0ffe0;
        margin: 0;
        text-shadow: 0 0 5px rgba(100, 255, 100, 0.3);

        .cursor {
          animation: blink 0.8s infinite;
          color: #64ff64;
        }
      }
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    // 选项容器
    .options-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 2px solid rgba(100, 255, 100, 0.3);

      .option-button {
        background: rgba(26, 58, 26, 0.8);
        border: 2px solid rgba(100, 255, 100, 0.5);
        padding: 0.75rem 1rem;
        font-family: 'Noto Sans SC', sans-serif;
        font-size: 1rem;
        color: #c0ffc0;
        text-align: left;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;

        &::before {
          content: '▶';
          margin-right: 0.75rem;
          color: #64ff64;
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        &:hover {
          background: rgba(100, 255, 100, 0.2);
          border-color: #64ff64;
          color: #ffffff;
          padding-left: 1.5rem;
          box-shadow: 0 0 20px rgba(100, 255, 100, 0.3);

          &::before {
            opacity: 1;
          }
        }
      }
    }

    // 继续提示
    .continue-hint {
      position: absolute;
      bottom: 0.5rem;
      right: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.625rem;
      color: rgba(100, 255, 100, 0.6);
      animation: hintPulse 1.5s ease-in-out infinite;

      .arrow {
        animation: arrowBounce 1s ease-in-out infinite;
      }
    }

    @keyframes hintPulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    @keyframes arrowBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(3px); }
    }
  }
}
